#Important Readme(under construction)

#Installations
cd ~/
sudo apt-get install python-pip
sudo pip install --upgrade pip
sudo pip install selenium
sudo apt-get install python-pytest
sudo apt-get install git
sudo pip install unittest-xml-reportin

#NOTE: If using selenium with firefox48 and above, use the mariotte setting commented in the driver.py file or use selenium 3.0 or above(it is enabled by default)

#Geckodriver 
git clone https://github.com/rishabh27892/webui-test-files/
cd webui-test-files/
tar -xvzf geckodriver-v0.18.0-linux64.tar.gz
chmod +x geckodriver
sudo cp geckodriver /usr/local/bin/
cd ~/
rm -rf webui-test-files/

#Download ixbuild repo
git clone https://github.com/ixsystems/ixbuild/
cd ixbuild/freenas/webui-tests/

#Tests…….


#Generate XML result:
py.test --junitxml results.xml login.py
pytest format(-junitxml) <nameofresultfile> <testfile>




NOTE: When locating an element using XPATH, do not use the xpath with id like this example: "md-input-18"(since this is autogenerated id, which changes with browser and various other reasons=unreliable)
instead, delete this attribute, via element inspector, and then find the xpath, which should locate the element from a simple id in numerals like: "8" (explicitly asigned=reliable, which wont change for any reason) 




#Installation for TrueOS(firefox beta doesnt support selenium yet, hence firefox-esr)
pkg-static install firefox-esr
pkg-static install -y python36
pkg-static install -y py36-pip
pkg-static install -y py36-pytest
pkg-static install -y geckodriver
pip-3.6 install selenium
pip-3.6 install unittest-xml-reporting


#Jenkins instructions
10.20.20.72 - rishabh-server.tn.ixsystems.com (Jenkins master node)
This virtual machine will run the jenkins web interface only
http://10.20.20.72:8180/jenkins


10.20.20.73 - rishabh-desktop.tn.ixsystems.com (Jenkins slave node)
This virtual machine run tests with firefox
10.20.20.74 - rishabh-nas.tn.ixsystems.com (FreeNAS target for webui tests)
This virtual machine will be the FreeNAS target running ui tests with firefox.



Important Notes regarding actual test scripts


Runtest
	#For running tests on a desktop, use driverU and for jenkins use driver
	#Use a fixed delay on the end of each script to fix script execution issue(similar to race condition)
	#click on main nav again before starting a new script to make sure failure of one script doesnt effect execution of the other
Login
User
Group
Update
	#Make sure you click on System tab again at the end of the final script for system tests so that other navigation element are visible 
Ssh
Afp
Webdav
Logout
